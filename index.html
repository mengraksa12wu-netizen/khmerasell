<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Khemra sell Fishing Rod | Portal</title>
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600&family=Poppins:wght@300;400;600;800&display=swap" rel="stylesheet">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;700&family=Oswald:wght@500;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Kantumruy+Pro:wght@300;400;700&family=Moul&display=swap" rel="stylesheet">
</head>
<body>

    <div id="login-page">
        <div class="login-card">
            <h1 class="cool-title">Khmera Sell Fishing Rod</h1>
            <p class="text-center text-muted small mb-4">Join our club! New emails register automatically.</p>
            <form id="loginForm">
                <div class="mb-4">
                    <label class="fw-bold">Email address</label>
                    <input type="email" id="emailInput" class="form-control" placeholder="customer@mail.com" required>
                </div>
                <div class="mb-4">
                    <label class="fw-bold">Password</label>
                    <div class="input-group">
                        <input type="password" class="form-control" id="pwdInput" placeholder="your password" required>
                        <button class="btn btn-outline-secondary" type="button" id="togglePass">
                            <i class="fas fa-eye"></i>
                        </button>
                    </div>
                </div>
                <button type="submit" class="btn btn-cool w-100">Login</button>
            </form>
        </div>
    </div>

    <div id="main-content">
        <nav class="navbar navbar-expand-lg navbar-dark bg-dark sticky-top shadow">
            <div class="container">
                <a class="navbar-brand fw-bold" href="#">Khemra sell Fishing Rod</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navMenu">
      <span class="navbar-toggler-icon"></span>
</button>
                <div class="collapse navbar-collapse" id="navMenu">
                    <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
                        <li class="nav-item"><a class="nav-link" href="#home">Home</a></li>
                        <li class="nav-item"><a class="nav-link" href="#about">About</a></li>
                        <li class="nav-item"><a class="nav-link" href="#menu">Menu</a></li>
                        <li class="nav-item"><a class="nav-link" href="#contact">Contact</a></li>
                        <li class="nav-item">
                            <span id="displayUser" class="nav-user-email d-none d-lg-inline"></span>
                        </li>
                        <li class="nav-item">
                            <button class="btn btn-danger btn-sm mt-1" onclick="logout()">Logout</button>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>

        <section class="hero">
    <span class="hero-bg-3"></span>
    <span class="hero-bg-4"></span>
    <span class="hero-bg-5"></span>
    <div class="container text-center">
        <h1 class="display-3 fw-bold">FISHING ROD SELL</h1>
        <p>នៅទីនេះមានលក់ដងសន្ទូចគ្រប់ប្រភេទ និងតាមតម្រូវការរបស់អ្នក</p>
        <a href="#menu" class="btn btn-outline-light btn-lg">View Menu</a>
    </div>
</section>

        <section id="about" class="section-padding" data-aos="fade-up">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-lg-6">
                        <img src="img\rsz_rods_in_a_store.jpg" class="img-fluid rounded-4 shadow" alt="Cafe">
                    </div>
                    <div class="col-lg-6 mt-4 mt-lg-0">
                        <h2 class="mb-4 display-5 fw-bold">About Our Menu</h2>
                        <p>នៅ ខេមរា លក់ដងសន្ទូច យើងផ្តល់ជូននូវដងសន្ទូចដែលមានគុណភាពខ្ពស់ ស្វិត រឹងមាំ និងមានទម្ងន់ស្រាល ដែលជួយឱ្យការស្ទូចត្រីរបស់អ្នកកាន់តែមានប្រសិទ្ធភាព និងរីករាយ។ មិនថាអ្នកជាអ្នកស្ទូចត្រីកម្សាន្ត ឬអ្នកអាជីព យើងមានគ្រប់តម្រូវការសម្រាប់លោកអ្នក។</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="menu" class="section-padding bg-light" data-aos="fade-up">
            <div class="container">
                <div class="text-center mb-5">
                    <h2 class="display-5 fw-bold">Our Menu</h2>
                </div>
                <div class="row g-4">
                    <div class="col-md-4">
                        <div class="card menu-card p-3">
                            <img src="img\photo_1_2026-02-14_10-52-38.jpg" alt="Espresso">
                            <h5>ផ្លែសន្ទូច</h5>
                            <span class="fw-bold d-block mb-2">$2.50</span>
                            <button class="btn btn-dark w-100" onclick="processOrder('Fishing Hooks', '$2.50')">Order Now</button>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card menu-card p-3">
                            <img src="img\photo_2_2026-02-14_10-52-38.jpg" alt="Cappuccino">
                            <h5>ដំបង្វិល M800</h5>
                            <span class="fw-bold d-block mb-2">$25.00</span>
                           <button class="btn btn-dark w-100" onclick="processOrder('Fishing Hooks', '$25.00')">Order Now</button>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card menu-card p-3">
                            <img src="img\fishing-rod--896222176913484473714819-c.webp" alt="Latte">
                            <h5>ដងសន្ទូច</h5>
                            <span class="fw-bold d-block mb-2">$50.00</span>
                            <button class="btn btn-dark w-100" onclick="processOrder('Fishing Hooks', '$50.00')">Order Now</button>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card menu-card p-3">
                            <img src="img\photo_3_2026-02-14_10-52-38.jpg" alt="Latte">
                            <h5>ណុយសម្បនិមិត្ត</h5>
                            <span class="fw-bold d-block mb-2">$4.00</span>
                            <button class="btn btn-dark w-100" onclick="processOrder('Fishing Hooks', '$4.00')">Order Now</button>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card menu-card p-3">
                            <img src="img\photo_4_2026-02-14_10-52-38.jpg" alt="Latte">
                            <h5>ណុយកង្កែក</h5>
                            <span class="fw-bold d-block mb-2">$2.50</span>
                            <button class="btn btn-dark w-100" onclick="processOrder('Fishing Hooks', '$2.50')">Order Now</button>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card menu-card p-3">
                            <img src="img\photo_5_2026-02-14_10-52-38.jpg" alt="Latte">
                            <h5>ក្បាលសន្ទូច</h5>
                            <span class="fw-bold d-block mb-2">$4.00</span>
                            <button class="btn btn-dark w-100" onclick="processOrder('Fishing Hooks', '$4.00')">Order Now</button>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card menu-card p-3">
                            <img src="img\photo_6_2026-02-14_10-52-38.jpg" alt="Latte">
                            <h5>ដំSUMU PA100</h5>
                            <span class="fw-bold d-block mb-2">$35.00</span>
                            <button class="btn btn-dark w-100" onclick="processOrder('Fishing Hooks', '$35.00')">Order Now</button>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card menu-card p-3">
                            <img src="img\photo_7_2026-02-14_10-52-38.jpg" alt="Latte">
                            <h5>ដំFOX</h5>
                            <span class="fw-bold d-block mb-2">$30.00</span>
                            <button class="btn btn-dark w-100" onclick="processOrder('Fishing Hooks', '$30.00')">Order Now</button>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card menu-card p-3">
                            <img src="img\photo_1_2026-02-17_12-50-22.jpg" alt="Latte">
                            <h5>ណុយជ័រ​កង្កែក</h5>
                            <span class="fw-bold d-block mb-2">$2.50</span>
                           <button class="btn btn-dark w-100" onclick="processOrder('Fishing Hooks', '$2.50')">Order Now</button>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card menu-card p-3">
                            <img src="img\photo_2_2026-02-17_12-50-22.jpg" alt="Latte">
                            <h5>ណុយជ័រមឹក</h5>
                            <span class="fw-bold d-block mb-2">$2.50</span>
                           <button class="btn btn-dark w-100" onclick="processOrder('Fishing Hooks', '$2.50')">Order Now</button>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card menu-card p-3">
                            <img src="img\photo_3_2026-02-17_12-50-22.jpg" alt="Latte">
                            <h5>ណុយស្ទូចមឹក</h5>
                            <span class="fw-bold d-block mb-2">2.50</span>
                           <button class="btn btn-dark w-100" onclick="processOrder('Fishing Hooks', '$2.50')">Order Now</button>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card menu-card p-3">
                            <img src="img\photo_4_2026-02-17_12-50-22.jpg" alt="Latte">
                            <h5>.....</h5>
                            <span class="fw-bold d-block mb-2">$4.00</span>
                           <button class="btn btn-dark w-100" onclick="processOrder('Fishing Hooks', '$2.50')">Order Now</button>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card menu-card p-3">
                            <img src="img\photo_5_2026-02-17_12-50-22.jpg" alt="Latte">
                            <h5>ដំ AEALE 7000</h5>
                            <span class="fw-bold d-block mb-2">$65.00</span>
                           <button class="btn btn-dark w-100" onclick="processOrder('Fishing Hooks', '$65.00')">Order Now</button>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card menu-card p-3">
                            <img src="img\fishing-rod--896222176913484473714819-c.webp" alt="Latte">
                            <h5>.....</h5>
                            <span class="fw-bold d-block mb-2">$4.00</span>
                           <button class="btn btn-dark w-100" onclick="processOrder('Fishing Hooks', '$2.50')">Order Now</button>
                        </div>
                     </div>
                    <div class="col-md-4">
                        <div class="card menu-card p-3">
                            <img src="img\fishing-rod--896222176913484473714819-c.webp" alt="Latte">
                            <h5>.....</h5>
                            <span class="fw-bold d-block mb-2">$4.00</span>
                           <button class="btn btn-dark w-100" onclick="processOrder('Fishing Hooks', '$2.50')">Order Now</button>
                        </div>
        </section>

        <section id="contact" class="section-padding" data-aos="fade-up">
            <div class="container text-center">
                <h2 class="display-5 fw-bold mb-4">Contact Us</h2>
                <div class="row justify-content-center">
                    <div class="col-md-4">
                        <i class="fas fa-map-marker-alt fa-2x mb-3 text-primary"></i>
                        <p>Fishing Rod Keo Phos</p>
                    </div>
                    <div class="col-md-4">
                        <i class="fas fa-envelope fa-2x mb-3 text-primary"></i>
                        <p>MengRaksa12.@gmail.com</p>
                    </div>
                    <div class="col-md-4">
                        <i class="fas fa-phone fa-2x mb-3 text-primary"></i>
                        <p>+855 099 429 918</p>
                    </div>
                </div>
            </div>
        </section>
<div class="modal fade" id="paymentModal" tabindex="-1" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content border-0 shadow-lg">
                    <div class="modal-header bg-dark text-white">
                        <h5 class="modal-title">Order Processing</h5>
                        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                    </div>
                    <div class="modal-body text-center p-4">
                        
                        <div id="step-quantity">
                            <h4 id="qtyTitle" class="mb-4 fw-bold"></h4>
                            <div class="d-flex justify-content-center align-items-center mb-4">
                                <button type="button" class="btn btn-outline-dark fw-bold" onclick="changeQty(-1)" style="width: 50px;">-</button>
                                <input type="number" id="itemQty" value="1" class="form-control text-center mx-3 fw-bold border-0" style="width: 70px; font-size: 1.5rem;" readonly>
                                <button type="button" class="btn btn-outline-dark fw-bold" onclick="changeQty(1)" style="width: 50px;">+</button>
                            </div>
                            <h5 class="mb-4">សរុប: <span id="totalPrice" class="text-primary fw-bold"></span></h5>
                            <button type="button" class="btn btn-dark w-100 py-2" onclick="goToPayment()">បន្តទៅការបង់ប្រាក់</button>
                        </div>

                        <div id="step-payment" style="display: none;">
                            <h4 id="orderSummary" class="mb-3 fw-bold text-dark"></h4>
                            <p class="text-muted">ស្កេន QR ដើម្បីបង់ប្រាក់</p>
                            <img src="img/photo_2026-02-14_12-07-15.jpg" class="img-fluid mb-3 rounded" style="max-width: 200px; border: 1px solid #ddd;">
                            <button type="button" class="btn btn-success w-100 py-2" onclick="confirmPayment()">ខ្ញុំបានបង់រួចហើយ</button>
                        </div>

                        <div id="step-success" style="display: none;">
                            <div class="success-checkmark mb-3"><i class="fas fa-check-circle"></i></div>
                            <h3 class="fw-bold">PAYMENT DONE!</h3>
                            <p>សូមអរគុណសម្រាប់ការទិញពី <strong>Khemra</strong></p>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>
        <footer>
            <div class="container text-center">
                <p class="mb-1">© Toxic Coffee 2026</p>
                <small>Multi-User Portal v2.0</small>
            </div>
        </footer>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
        AOS.init({ duration: 1000, once: true });
        
        const loginForm = document.getElementById('loginForm');
        const emailInput = document.getElementById('emailInput');
        const pwdInput = document.getElementById('pwdInput');
        const displayUser = document.getElementById('displayUser');

        loginForm.onsubmit = function(e) {
            e.preventDefault();
            const typedEmail = emailInput.value;
            const typedPass = pwdInput.value;

            let userList = JSON.parse(localStorage.getItem('cafeMasterList')) || [];
            let foundUser = userList.find(user => user.email === typedEmail);

            if (!foundUser) {
                userList.push({ email: typedEmail, pass: typedPass });
                localStorage.setItem('cafeMasterList', JSON.stringify(userList));
                alert("Welcome! Your new account has been registered.");
                accessGranted(typedEmail);
            } else {
                if (foundUser.pass === typedPass) {
                    accessGranted(typedEmail);
                } else {
                    alert("❌ WRONG PASSWORD for " + typedEmail + "!");
                    pwdInput.value = ""; 
                }
            }
        };

        function accessGranted(email) {
            displayUser.innerText = email;
            document.getElementById('login-page').style.display = 'none';
            document.getElementById('main-content').style.display = 'block';
            document.body.style.backgroundColor = 'white';
            window.scrollTo(0, 0);
        }

        function logout() {
            window.location.reload(); 
        }

        document.getElementById('togglePass').onclick = function() {
            const type = pwdInput.type === 'password' ? 'text' : 'password';
            pwdInput.type = type;
            this.querySelector('i').classList.toggle('fa-eye');
            this.querySelector('i').classList.toggle('fa-eye-slash');
        }

        // ... (your existing login code is here) ...

        // --- ADD THIS NEW PART BELOW ---
        // ORDER LOGIC
        let currentPrice = 0;
        let currentItem = "";
        let qty = 1;
        let myModal;

       function processOrder(itemName, price) {
    currentItem = itemName;
    
    // កែសម្រួលត្រង់នេះ៖ ប្តូរតម្លៃពីអក្សរដែលមានសញ្ញា $ ឱ្យទៅជាលេខសុទ្ធ
    // ប្រសិនបើ price មកជា "$2.50" វានឹងប្តូរទៅជា 2.50
    currentPrice = parseFloat(price.toString().replace('$', ''));
    
    qty = 1;

    // Reset ផ្ទាំង Modal
    document.getElementById('step-quantity').style.display = 'block';
    document.getElementById('step-payment').style.display = 'none';
    document.getElementById('step-success').style.display = 'none';

    document.getElementById('qtyTitle').innerText = itemName;
    updateQtyDisplay();

    myModal = new bootstrap.Modal(document.getElementById('paymentModal'));
    myModal.show();
}

        function changeQty(num) {
            qty += num;
            if (qty < 1) qty = 1;
            updateQtyDisplay();
        }

        function updateQtyDisplay() {
            document.getElementById('itemQty').value = qty;
            document.getElementById('totalPrice').innerText = "$" + (currentPrice * qty).toFixed(2);
        }

        function goToPayment() {
            document.getElementById('step-quantity').style.display = 'none';
            document.getElementById('step-payment').style.display = 'block';
            document.getElementById('orderSummary').innerText = currentItem + " x" + qty;
        }

       function confirmPayment() {
    // បិទ Modal QR
    if(myModal) myModal.hide();

    // បង្ហាញការឆែកបន្តិច
    Swal.fire({
        title: 'Verifying...',
        background: '#000',
        color: '#fff',
        showConfirmButton: false,
        didOpen: () => { Swal.showLoading(); }
    });

    setTimeout(() => {
        Swal.close();
        document.getElementById('final-luxury-overlay').style.display = 'flex';

        // ១. សម្លេងជោគជ័យ
        let audio = new Audio('https://assets.mixkit.co/active_storage/sfx/2000/2000-preview.mp3');
        audio.play();

        // ២. បាញ់កាំជ្រួចក្រដាសពណ៌ (Explosion Effect)
        var count = 200;
        var defaults = { origin: { y: 0.7 } };

        function fire(particleRatio, opts) {
            confetti(Object.assign({}, defaults, opts, {
                particleCount: Math.floor(count * particleRatio)
            }));
        }

        fire(0.25, { spread: 26, startVelocity: 55 });
        fire(0.2, { spread: 60 });
        fire(0.35, { spread: 100, decay: 0.91, scalar: 0.8 });
        fire(0.1, { spread: 120, startVelocity: 25, decay: 0.92, scalar: 1.2 });
        fire(0.1, { spread: 120, startVelocity: 45 });

    }, 2000);
}

function finishOrder() {
    document.getElementById('final-luxury-overlay').style.display = 'none';
    window.location.href = '#menu';
}
    </script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

<div id="final-luxury-overlay" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: radial-gradient(circle, #1a1a1a 0%, #000 100%); z-index: 10000; flex-direction: column; align-items: center; justify-content: center; overflow: hidden; font-family: 'Poppins', sans-serif;">
    
    <div style="position: absolute; width: 300px; height: 300px; background: rgba(40, 167, 69, 0.2); filter: blur(100px); border-radius: 50%;"></div>

    <svg width="150" height="150" viewBox="0 0 100 100" style="z-index: 1; filter: drop-shadow(0 0 20px #28a745);">
        <circle cx="50" cy="50" r="45" fill="none" stroke="#28a745" stroke-width="5" stroke-dasharray="283" stroke-dashoffset="283" style="animation: drawCircle 1s forwards;"></circle>
        <path d="M30 50 L45 65 L70 35" fill="none" stroke="#28a745" stroke-width="6" stroke-linecap="round" stroke-linejoin="round" stroke-dasharray="100" stroke-dashoffset="100" style="animation: drawCheck 0.5s 0.8s forwards;"></path>
    </svg>

    <h1 style="color: white; margin-top: 40px; font-weight: 800; letter-spacing: 8px; text-transform: uppercase; animation: fadeInUp 1s; z-index: 1;">Success</h1>
    <p style="color: #888; margin-bottom: 40px; letter-spacing: 2px; z-index: 1;">TRANSACTION COMPLETED</p>
    
    <button onclick="finishOrder()" style="z-index: 1; padding: 15px 60px; background: transparent; color: white; border: 2px solid white; border-radius: 0; font-weight: bold; cursor: pointer; transition: 0.5s; letter-spacing: 3px;"
            onmouseover="this.style.background='white'; this.style.color='black';"
            onmouseout="this.style.background='transparent'; this.style.color='white';">
        BACK TO STORE
    </button>
</div>

<style>
    @keyframes drawCircle { to { stroke-dashoffset: 0; } }
    @keyframes drawCheck { to { stroke-dashoffset: 0; } }
    @keyframes fadeInUp { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }
</style>
</body>
    </script>
</body>
</html>